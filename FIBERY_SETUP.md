# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Fibery –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤–∏–¥–µ–æ

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –ê–∫–∫–∞—É–Ω—Ç Fibery
- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π GitHub —Å –∫–æ–¥–æ–º —Å–∏—Å—Ç–µ–º—ã –∞–Ω–∞–ª–∏–∑–∞
- API –∫–ª—é—á–∏ –∏ —Ç–æ–∫–µ–Ω—ã:
  - OpenAI API key
  - GitHub —Ç–æ–∫–µ–Ω —Å –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ workflow
  - Fibery API —Ç–æ–∫–µ–Ω

## –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub

1. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `Settings` -> `Secrets and variables` -> `Actions`
   - –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã:
     ```
     OPENAI_API_KEY=–≤–∞—à_–∫–ª—é—á_openai
     FIBERY_API_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_fibery
     FIBERY_WORKSPACE=–∏–º—è_–≤–∞—à–µ–≥–æ_workspace
     GITHUB_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_github
     ```

## –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∏–ø–∞ –≤ Fibery

1. –í–æ–π–¥–∏—Ç–µ –≤ Fibery
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `Settings` -> `Types & Fields`
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ç–∏–ø:
   - Name: `Video`
   - Icon: üé•
   - Collection Name: `Videos`

4. –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—è:
   - –ü–æ–ª–µ –¥–ª—è URL:
     ```
     Name: Video URL
     Type: Text
     Required: Yes
     ```
   - –ü–æ–ª–µ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
     ```
     Name: Analysis Results
     Type: Text (Long)
     Rich Text: Yes
     ```

## –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –∞–Ω–∞–ª–∏–∑–∞

1. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ç–∏–ø–∞ `Video`:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `Buttons`
   - –ù–∞–∂–º–∏—Ç–µ `+ Add Button`
   - –£–∫–∞–∂–∏—Ç–µ:
     ```
     Name: Analyze Video
     Icon: üîç
     Color: Blue
     ```

## –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ `Automations`
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é:
   ```
   Trigger:
   - Type: Button Click
   - Button: Analyze Video
   - Entity Type: Video

   Action:
   - Type: Call Webhook
   - URL: https://[–≤–∞—à-–¥–æ–º–µ–Ω]/webhook/fibery
   - Method: POST
   - Headers:
     Content-Type: application/json
   
   Body:
   {
     "action": {
       "type": "Button Click"
     },
     "entity": {
       "fibery/id": "${fibery/id}",
       "Video URL": "${Video URL}"
     }
   }
   ```

## –®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é –∑–∞–ø–∏—Å—å:
   - –¢–∏–ø: Video
   - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª–µ Video URL
   - –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É Analyze Video

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - –ó–∞–ø—É—Å–∫ GitHub Actions workflow
   - –ü–æ—è–≤–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –ø–æ–ª–µ Analysis Results
   - –õ–æ–≥–∏ –≤ Actions

## Troubleshooting

### –û—à–∏–±–∫–∞ "No video URL found"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª–µ Video URL –∑–∞–ø–æ–ª–Ω–µ–Ω–æ
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–º—è –ø–æ–ª—è –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º

### –û—à–∏–±–∫–∞ "Workflow failed"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ GitHub
- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ Actions
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL –≤–∏–¥–µ–æ –¥–æ—Å—Ç—É–ø–µ–Ω

### –û—à–∏–±–∫–∞ "Token invalid"
- –û–±–Ω–æ–≤–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã –≤ GitHub Secrets
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ —Ç–æ–∫–µ–Ω–æ–≤

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ –æ—Ç —Å–∏—Å—Ç–µ–º—ã

–£—Å–ø–µ—à–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
```json
{
  "status": "success",
  "message": "Analysis completed",
  "details": {
    "summary": "–û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–∏–¥–µ–æ",
    "frames": [
      {
        "timestamp": "00:00",
        "description": "–û–ø–∏—Å–∞–Ω–∏–µ –∫–∞–¥—Ä–∞",
        "detected_text": "–†–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç"
      }
    ],
    "audio": {
      "transcription": "–¢–µ–∫—Å—Ç –∏–∑ –∞—É–¥–∏–æ",
      "music_detected": true/false
    }
  }
}
```

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ GitHub Actions
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ç–æ–∫–µ–Ω—ã –∞–∫—Ç—É–∞–ª—å–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –≤ Fibery
